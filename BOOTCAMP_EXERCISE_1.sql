-- CREATE DATABASE
CREATE DATABASE BOOTCAMP_EXERCISE1;
USE BOOTCAMP_EXERCISE1;



-- CREATE TABLES
-- REGIONS
CREATE TABLE REGIONS (
	REGION_ID INTEGER PRIMARY KEY, -- PRIMARY KEY
    REGION_NAME VARCHAR(25) 
);
 -- COUNTRIES
CREATE TABLE COUNTRIES (
	COUNTRY_ID CHAR(2) PRIMARY KEY, -- PRIMARY KEY
    COUNTRY_NAME VARCHAR(40),
    REGION_ID INTEGER, -- FOREIGN KEY REGIONS.REGION_ID
    FOREIGN KEY (REGION_ID) REFERENCES REGIONS(REGION_ID)
);
-- LOCATIONS
CREATE TABLE LOCATIONS (
	LOCATION_ID INTEGER PRIMARY KEY, -- PRIMARY KEY
    STREET_ADDRESS VARCHAR(25),
    POSTAL_CODE VARCHAR(12),
    CITY VARCHAR(30),
    STATE_PROVINCE VARCHAR(12),
    COUNTRY_ID CHAR(2), -- FOREIGN KEY COUNTRIES.COUNTRY_ID
    FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRIES(COUNTRY_ID)
);
-- DEPARTMENTS
CREATE TABLE DEPARTMENTS (
	DEPARTMENT_ID INTEGER PRIMARY KEY, -- PRIMARY KEY
    DEPARTMENT_NAME VARCHAR(30),
    MANAGER_ID INTEGER,
    LOCATION_ID INTEGER, -- FOREIGN KEY LOCATIONS.LOCATION_ID
    FOREIGN KEY (LOCATION_ID) REFERENCES LOCATIONS(LOCATION_ID)
);
-- JOBS
CREATE TABLE JOBS (
	JOB_ID VARCHAR(10) PRIMARY KEY, -- PRIMARY KEY
    JOB_TITLE VARCHAR(35),
    MIN_SALARY DECIMAL(7,2),
    MAX_SALARY DECIMAL(7,2)
);
-- EMPLOYEES
CREATE TABLE EMPLOYEES (
	EMPLOYEE_ID INTEGER PRIMARY KEY, -- PRIMARY KEY
    FIRST_NAME VARCHAR(20),
    LAST_NAME VARCHAR(25),
    EMAIL VARCHAR(25),
    PHONE_NUMBER VARCHAR(25),
    HIRE_DATE DATE,
    JOB_ID VARCHAR(10), -- FOREIGN KEY JOBS.JOB_ID
    SALARY DECIMAL(7, 2),
    COMMISSION_PCT DECIMAL(3, 2),
    MANAGER_ID INTEGER,
    DEPARTMENT_ID INTEGER, -- FOREIGN KEY DEPARTMENTS.DEPARTMENT_ID
    FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID),
    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID)
);
-- JOB_HISTORY
CREATE TABLE JOB_HISTORY (
	EMPLOYEE_ID INTEGER, -- FOREIGN KEY EMPLOYEES.EMPLOYEE_ID
    START_DATE DATE,
    END_DATE DATE,
	JOB_ID VARCHAR(10), -- FOREIGN KEY JOBS.JOB_ID
    DEPARTMENT_ID INTEGER, -- FOREIGN KEY DEPARTMENTS.DEPARTMENT_ID
    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
    FOREIGN KEY (JOB_ID) REFERENCES JOBS(JOB_ID),
    FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENTS(DEPARTMENT_ID)
);

-- DROP TABLE REGIONS;
-- DROP TABLE COUNTRIES;
-- DROP TABLE LOCATIONS;
-- DROP TABLE DEPARTMENTS;
-- DROP TABLE JOBS;
-- DROP TABLE EMPLOYEES;
-- DROP TABLE JOB_HISTORY;



-- INSERT DATA

-- INSERT REGIONS
INSERT INTO REGIONS VALUES (1, 'EUROPE');
INSERT INTO REGIONS VALUES (2, 'NORTH AMERICA');
INSERT INTO REGIONS VALUES (3, 'ASIA');
-- SELECT * FROM REGIONS;

-- INSERT COUNTRIES
INSERT INTO COUNTRIES VALUES ("DE", 'Germany', 1);
INSERT INTO COUNTRIES VALUES ("IT", 'Italy', 1);
INSERT INTO COUNTRIES VALUES ("JP", 'Japan', 3);
INSERT INTO COUNTRIES VALUES ("US", 'United State', 2);
-- SELECT * FROM COUNTRIES;

-- INSERT LOCATIONS
INSERT INTO LOCATIONS VALUES (1000, '1297 Via Cola di Rie', '989', 'Roma', '', 'IT' );
INSERT INTO LOCATIONS VALUES (1100, '93091 Calle della Te ', '10934', 'Venice', '', 'IT' );
INSERT INTO LOCATIONS VALUES (1200, '2017 Shinjuku-ku', '1689', 'Tokyo', 'Tokyo JP', NULL );
INSERT INTO LOCATIONS VALUES (1400, '2014 Jabberwocky Rd', '26192', 'Southlake', 'Texas', 'US' );
-- SELECT * FROM LOCATIONS;

-- INSERT DEPARTMENTS
INSERT INTO DEPARTMENTS VALUES (10, 'Administration', 200, 1100);
INSERT INTO DEPARTMENTS VALUES (20, 'Marketing', 201, 1200);
INSERT INTO DEPARTMENTS VALUES (30, 'PurchasinG', 202, 1400);
-- SELECT * FROM DEPARTMENTS;

-- INSERT JOBS
INSERT INTO JOBS VALUES ('ST_CLERK', 'Staff Clerk', 0.00, 99999.99);
INSERT INTO JOBS VALUES ('MK_REP', 'Marketing Rep.', 0.00, 99999.99);
INSERT INTO JOBS VALUES ('IT_PROG', 'IT Programming', 0.00, 99999.99);
-- SELECT * FROM JOBS;

-- INSERT EMPLOYEES
INSERT INTO EMPLOYEES VALUES (100, 'Steven', 'King', 'SKING', '515-1234567', str_to_date('1987-06-17','%Y-%m-%d'), 'ST_CLERK', 24000.00, 0.00, 109, 10);
INSERT INTO EMPLOYEES VALUES (101, 'Neena', 'Kochhar', 'NKOCHHAR', '515-1234568', str_to_date('1987-06-18','%Y-%m-%d'), 'MK_REP', 17000.00, 0.00, 103, 20);
INSERT INTO EMPLOYEES VALUES (102, 'Lex', 'De Haan', 'LDEHAAN', '515-1234569', str_to_date('1987-06-19','%Y-%m-%d'), 'IT_PROG', 17000.00, 0.00, 108, 30);
INSERT INTO EMPLOYEES VALUES (103, 'Alexander', 'Hunold', 'AHUNOLD', '590-4234567', str_to_date('1987-06-20','%Y-%m-%d'), 'MK_REP', 9000.00, 0.00, 105, 20);
-- SELECT * FROM EMPLOYEES;

-- INSERT JOB_HISTORY
INSERT INTO JOB_HISTORY VALUES (102, str_to_date('1993-01-13', '%Y-%m-%d'), str_to_date('1998-07-24', '%Y-%m-%d'), 'IT_PROG', 20);
INSERT INTO JOB_HISTORY VALUES (101, str_to_date('1989-09-21', '%Y-%m-%d'), str_to_date('1993-10-27', '%Y-%m-%d'), 'MK_REP', 10);
INSERT INTO JOB_HISTORY VALUES (101, str_to_date('1993-10-28', '%Y-%m-%d'), str_to_date('1997-03-15', '%Y-%m-%d'), 'MK_REP', 30);
INSERT INTO JOB_HISTORY VALUES (100, str_to_date('1996-02-17', '%Y-%m-%d'), str_to_date('1999-12-19', '%Y-%m-%d'), 'ST_CLERK', 30);
INSERT INTO JOB_HISTORY VALUES (103, str_to_date('1998-03-24', '%Y-%m-%d'), str_to_date('1999-12-31', '%Y-%m-%d'), 'MK_REP', 20);
-- SELECT * FROM JOB_HISTORY;




SELECT * FROM REGIONS;
SELECT * FROM COUNTRIES;
SELECT * FROM LOCATIONS;
SELECT * FROM DEPARTMENTS;
SELECT * FROM JOBS;
SELECT * FROM EMPLOYEES;
SELECT * FROM JOB_HISTORY;